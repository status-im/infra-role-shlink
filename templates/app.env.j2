# Domain configuration
DEFAULT_DOMAIN={{ shlink_domain | mandatory }}
IS_HTTPS_ENABLED=true

# Server configuration
PORT={{ shlink_app_cont_port | mandatory }}
WEB_WORKER_NUM={{ shlink_app_workers | mandatory }}
TASK_WORKER_NUM={{ shlink_app_workers | mandatory }}

# Redirects
REDIRECT_STATUS_CODE=302
{% if shlink_fallback_url is defined and shlink_fallback_url %}
DEFAULT_INVALID_SHORT_URL_REDIRECT={{ shlink_fallback_url }}
DEFAULT_BASE_URL_REDIRECT={{ shlink_fallback_url }}
{% endif %}

# URL shortening
AUTO_RESOLVE_TITLES=true
DEFAULT_SHORT_CODES_LENGTH=5
MULTI_SEGMENT_SLUGS_ENABLED=false

# Tracking - privacy focused defaults
ANONYMIZE_REMOTE_ADDR=true
DISABLE_IP_TRACKING=true
DISABLE_REFERRER_TRACKING=true
DISABLE_UA_TRACKING=true
TRACK_ORPHAN_VISITS=false
DISABLE_TRACK_PARAM=no-track

# Database
DB_DRIVER=postgres
DB_HOST=db
DB_PORT={{ shlink_db_cont_port | mandatory }}
DB_NAME={{ shlink_db_name | mandatory }}
DB_USER={{ shlink_db_user | mandatory }}
DB_PASSWORD={{ shlink_db_pass | mandatory }}

# GeoLite (optional - leave empty to disable geolocation)
{% if shlink_geolite_license_key is defined and shlink_geolite_license_key %}
GEOLITE_LICENSE_KEY={{ shlink_geolite_license_key }}
{% endif %}