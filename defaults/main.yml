---
# Public domain for the service
shlink_domain: ~
# Admin WebUI domain (protected by oauth-proxy role)
shlink_admin_domain: ~

# Fallback redirect
shlink_fallback_url: ~

# General ----------------------------------------
shlink_service_name: 'shlink'
shlink_service_path: '/docker/{{ shlink_service_name }}'
shlink_compose_file: '{{ shlink_service_path }}/docker-compose.yml'
shlink_api_key_file: '{{ shlink_service_path }}/api-key'
# App --------------------------------------------
shlink_app_cont_name: '{{ shlink_service_name }}-app'
shlink_app_cont_version: '5.0.0'
shlink_app_cont_image: 'shlinkio/shlink:{{ shlink_app_cont_version }}'
shlink_app_cont_port: 8080
shlink_app_workers: '{{ ansible_processor_vcpus }}'
shlink_geolite_license_key: ~
# Web --------------------------------------------
shlink_web_cont_name: '{{ shlink_service_name }}-web'
shlink_web_cont_version: '4.6.2'
shlink_web_cont_image: 'shlinkio/shlink-web-client:{{ shlink_web_cont_version }}'
shlink_web_cont_vol: '{{ shlink_service_path }}/web'
shlink_web_cont_port: 8090
shlink_web_servers_file: '{{ shlink_web_cont_vol }}/servers.json'
# DB ---------------------------------------------
shlink_db_cont_image: 'postgres:16-alpine'
shlink_db_cont_name: '{{ shlink_service_name }}-db'
shlink_db_cont_vol: '{{ shlink_service_path }}/db'
shlink_db_cont_port: 5432
shlink_db_cont_uid: 70
shlink_db_host_uid: '{{ 100000 + shlink_db_cont_uid | int }}'
shlink_db_name: 'shlink'
shlink_db_user: 'shlink'
shlink_db_pass: 'changeIfYouCare'
# Backups ----------------------------------------
shlink_db_backup_path: '{{ shlink_db_cont_vol }}/backup'
shlink_db_backup_frequency: 'daily'
shlink_db_backup_timeout: '120'
shlink_db_backup_user: 'root'
shlink_db_backup_max_kept: 7
# ------------------------------------------------

# General container management
compose_state: 'present'
compose_recreate: 'smart'
compose_restart: false